<html>
<head>
  <title>303 WordPress莫名错误：Warning: require_once(…/wp-config.php) [function.require-once]: failed to open stream: Permission denied in …/wp-load.php</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/270217 (zh-CN); Windows/6.1.7600;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2061"/>
<h1>303 WordPress莫名错误：Warning: require_once(…/wp-config.php) [function.require-once]: failed to open stream: Permission denied in …/wp-load.php</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p style="margin: 0px; padding: 5px 0px; line-height: 22px; color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; background-color: rgb(255, 255, 255);">—2013-06-17<br>
看看主页，结果又出现了这个错误：</p><blockquote style="margin: 10px 0px; padding: 10px; border: 1px dashed rgb(221, 221, 221); background-color: rgb(250, 250, 250); color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; line-height: 21px;"><p style="margin: 0px; padding: 5px 0px 0px; line-height: 22px;">Warning: require_once(/home/dramatea/dramatea.com/wp-config.php) [function.require-once]: failed to open stream: Permission denied in /home/dramatea/dramatea.com/wp-load.php on line 29</p></blockquote><blockquote style="margin: 10px 0px; padding: 10px; border: 1px dashed rgb(221, 221, 221); background-color: rgb(250, 250, 250); color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; line-height: 21px;"><p style="margin: 0px; padding: 5px 0px 0px; line-height: 22px;">Fatal error: require_once() [function.require]: Failed opening required ‘/home/dramatea/dramatea.com/wp-config.php’ (include_path=’.:/usr/local/lib/php:/usr/local/php5/lib/pear’) in /home/dramatea/dramatea.com/wp-load.php on line 29</p></blockquote><p style="margin: 0px; padding: 5px 0px; line-height: 22px; color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; background-color: rgb(255, 255, 255);">知道是wp-config.php这个文件的权限问题导致此错误，把wp-config.php的权限修改为可读可写，就解决了。</p><p style="margin: 0px; padding: 5px 0px; line-height: 22px; color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; background-color: rgb(255, 255, 255);">但是为什么wp-config.php的文件权限被修改了，有谁知道？</p><p style="margin: 0px; padding: 5px 0px; line-height: 22px; color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; background-color: rgb(255, 255, 255);">—-2013-06-20<br>
今天又出现了这个问题，<br>
wp-config.php的权限又被改为200（只有一个所有者写权限。没有读权限）<br>
网上寻找解决方法无果。<br>
在“提高WordPress安全性的十个要点<a href="http://www.chinahtml.com/1007/127829755419250.html" style="color: rgb(0, 68, 153); text-decoration: none;" target="_blank">↗</a>”一文中，看到用.htaccess文件控制wp-config.php的访问权限的方法，先试一下。<br>
（修改.htaccess文件前先备份）</p><div style="text-align: left; box-sizing: border-box; overflow: hidden !important; position: relative !important; direction: ltr !important; width: 626px; padding: 0px; margin: 10px 0px; font-family: Monaco, MonacoRegular, 'Courier New', monospace; border: 1px solid rgb(153, 153, 153) !important; text-shadow: none !important; background-color: rgb(253, 253, 253) !important; color: rgb(51, 51, 51); float: none; clear: both; font-size: 12px !important; line-height: 15px !important; height: auto;"><div style="border: 0px; padding: 0px; margin: 0px; width: 624px; overflow: hidden; max-height: 500px; position: relative; z-index: 1; background-position: 0px 50%;"><table style="border: none !important; padding: 0px !important; margin: 0px 0px 0px -18px !important; background-image: none !important; width: auto !important; border-spacing: 0px !important; border-collapse: collapse !important;"><tbody><tr style="padding: 0px !important; border: none !important; vertical-align: top !important; margin: 0px !important; background-position: 0px 50%;"><td style="vertical-align: top !important; border: 0px; padding: 0px !important; margin: 0px !important; background-color: rgb(223, 239, 255) !important; color: rgb(84, 153, 222) !important;"><div style="border: 0px; padding: 0px; margin: 0px; background-position: 0px 50%;"><div style="font-family: inherit; border: 0px; padding: 0px 5px; margin: 0px; text-align: center; font-size: inherit !important; line-height: inherit !important; height: inherit !important; background-position: 0px 50%;">1</div><div style="font-family: inherit; background-color: rgb(200, 225, 250) !important; border: 0px; padding: 0px 5px; margin: 0px; text-align: center; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(49, 124, 197) !important;">2</div><div style="font-family: inherit; border: 0px; padding: 0px 5px; margin: 0px; text-align: center; font-size: inherit !important; line-height: inherit !important; height: inherit !important; background-position: 0px 50%;">3</div><div style="font-family: inherit; background-color: rgb(200, 225, 250) !important; border: 0px; padding: 0px 5px; margin: 0px; text-align: center; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(49, 124, 197) !important;">4</div></div></td><td style="vertical-align: top !important; border: 0px; padding: 0px !important; margin: 0px !important; width: 625px; background-position: 0px 50%;"><div style="background-image: none !important; border: none !important; padding: 0px; margin: 0px; color: rgb(0, 0, 0); white-space: pre; overflow: visible;"><div style="font-family: inherit; border: 0px; padding: 0px 5px; margin: 0px; font-size: inherit !important; line-height: inherit !important; height: inherit !important; background-position: 0px 50%;"><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 111, 224) !important;">&lt;</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 78, 208) !important;">files</span> <span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important;">wp</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 111, 224) !important;">-</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 45, 122) !important;">config</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important;">php</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 111, 224) !important;">&gt;</span></div><div style="font-family: inherit; background-color: rgb(247, 247, 247) !important; border: 0px; padding: 0px 5px; margin: 0px; font-size: inherit !important; line-height: inherit !important; height: inherit !important;"><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 78, 208) !important;">order</span> <span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important;">allow</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(51, 51, 51) !important;">,</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 78, 208) !important;">deny</span></div><div style="font-family: inherit; border: 0px; padding: 0px 5px; margin: 0px; font-size: inherit !important; line-height: inherit !important; height: inherit !important; background-position: 0px 50%;"><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 78, 208) !important;">deny</span> <span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 78, 208) !important;">from</span> <span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important;">all</span></div><div style="font-family: inherit; background-color: rgb(247, 247, 247) !important; border: 0px; padding: 0px 5px; margin: 0px; font-size: inherit !important; line-height: inherit !important; height: inherit !important;"><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 111, 224) !important;">&lt;</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 111, 224) !important;">/</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important;">files</span><span style="font-family: inherit; font-size: inherit !important; line-height: inherit !important; height: inherit !important; color: rgb(0, 111, 224) !important;">&gt;</span></div></div></td></tr></tbody></table></div></div><p style="margin: 0px; padding: 5px 0px; line-height: 22px; color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; background-color: rgb(255, 255, 255);"></p><p style="margin: 0px; padding: 5px 0px; line-height: 22px; color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; background-color: rgb(255, 255, 255);">—-2013-07-05<br>
这段到是没有再出现这个问题了，不过今天打开邮箱才发现造成文件权限被修改是因为主机服务商在安全扫描的过程中认为这个PHP文件有危害，给禁止访问了。邮件通知如下：</p><blockquote style="margin: 10px 0px; padding: 10px; border: 1px dashed rgb(221, 221, 221); background-color: rgb(250, 250, 250); color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; line-height: 21px;"><p style="margin: 0px; padding: 5px 0px; line-height: 22px;">Hello,</p><p style="margin: 0px; padding: 5px 0px; line-height: 22px;">During a recent security scan we have identified that one or more of your hosted sites show signs of being compromised as they are hosting known, malicious web-based backdoors. Specifically, the following file(s) have been accessed by intruders and have been associated with unsolicited bulk email, denial of service or other abusive activity:</p><p style="margin: 0px; padding: 5px 0px; line-height: 22px;">We have identified the following known backdoors under your account:<br>
/home/dramatea/dramatea.com/wp-admin/seoyMX1.php<br>
/home/dramatea/dramatea.com/wp-config.php<br>
/home/dramatea/dramatea.com/wp-conf.php</p><p style="margin: 0px; padding: 5px 0px 0px; line-height: 22px;">We have disabled the page(s) in question (via adjusting permissions on the files, e.g. chmod, or backing up the file first renaming it to “filename.INFECTED” and cleaning up the injected code) until you are able to address this matter.</p></blockquote><p style="margin: 0px; padding: 5px 0px; line-height: 22px; color: rgb(51, 51, 51); font-family: 'Microsoft YaHei', Tahoma, Arial; font-size: 14px; background-color: rgb(255, 255, 255);">把.htaccess文件还原再试试看，因为中途Wordpress更新升级了一次，看看是否已经把这个漏洞修复了</p><br></div>
</div></body></html> 